<!--pages/shareCard/cardDetail/cardDetail.wxml-->
<view class="topBox flexCenter">
    <view class="codeBox flexCenter">
        <canvas class='codeImg' canvas-id='canvas'></canvas>
        <view class="codeName">{{card.name}}</view>
        <view class="codeTips">当前可享折扣{{card.amount}}折</view>
    </view>
</view>
<!-- 进度 start-->
<view class="cardProcessBox" wx:if="{{card}}">
    <view class="textBox flexSpace">
        <view>{{card.orgAmount||0}}</view>
        <view>{{card.limit||0}}</view>
    </view>
    <view class="lineBox">
        <view class="bgLine"></view>
        <view class="acLine" style="width:{{card.amount/(card.orgAmount-card.limit)}}%">
        </view>
        <view class="locate" 
            style="left:{{card.amount/(card.orgAmount-card.limit)}}%"></view>
    </view>
    <view class="textBox flexSpace">
        <view>初始折扣</view>
        <view>最终折扣</view>
    </view>
</view>
<!-- 进度条end  -->
<view class="recordContainer">
    <view class="recordBox">
        <view class="recordTitle">本卡共享记录</view>
        <view class="recordList">
            <view class="eachRecord flexSpace" wx:for="{{cardDesc.items}}">
                <view class="userInfo flexStart">
                    <image src="{{item.avatarUrl}}"></image>
                    <view class="userText">
                        <view class="useraName">{{item.nickname}}</view>
                        <view class="date">{{item.time}}</view>
                    </view>
                </view>
                <view class="rightText">
                    <view class="discount">{{item.amount||0}}折</view>
                    <view class="desc">{{item.cause}}</view>
                </view>
            </view>
        </view>
    </view>
</view>